{"ast":null,"code":"var _jsxFileName = \"/Users/tdnguyen21/my-app/src/App.js\";\nimport React, { Component } from 'react';\nimport './index.css';\nimport validate from './validate';\nimport PhoneNumber from './PhoneNumber';\nimport AccessCode from './AccessCode';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.changeHandler = event => {\n      const name = event.target.name;\n      const value = event.target.value;\n      const updatedControls = { ...this.state.formControls\n      };\n      const updatedFormElement = { ...updatedControls[name]\n      };\n      updatedFormElement.value = value;\n      updatedFormElement.touched = true;\n      updatedFormElement.valid = validate(value, updatedFormElement.validationRules);\n      updatedControls[name] = updatedFormElement;\n      let formIsValid = true;\n\n      for (let inputIdentifier in updatedControls) {\n        formIsValid = updatedControls[inputIdentifier].valid && formIsValid;\n      }\n\n      this.setState({\n        formControls: updatedControls,\n        formIsValid: formIsValid\n      });\n    };\n\n    this.formSubmitHandler = () => {\n      const formData = {};\n\n      for (let formElementId in this.state.formControls) {\n        formData[formElementId] = this.state.formControls[formElementId].value;\n      }\n\n      console.dir(formData);\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      if (this.state.formControls.code.value) {\n        var data = {\n          phone: this.state.formControls.phone.value,\n          code: this.state.formControls.code.value\n        };\n        fetch('http://localhost:9000/users/ValidateAccessCode/', {\n          method: 'POST',\n          headers: {\n            'Accept': 'application/json, text/plain, */*',\n            'Content-Type': 'application/json'\n          },\n          // We convert the React state to JSON and send it as the POST body\n          body: JSON.stringify(data)\n        }).then(function (response) {\n          console.log(response.success);\n          return response.success;\n        });\n      } else {\n        var data = {\n          phone: this.state.formControls.phone.value\n        };\n        fetch('http://localhost:9000/users/CreateNewAccessCode/', {\n          method: 'POST',\n          headers: {\n            'Accept': 'application/json, text/plain, */*',\n            'Content-Type': 'application/json'\n          },\n          // We convert the React state to JSON and send it as the POST body\n          body: JSON.stringify({\n            data\n          })\n        }).then(function (response) {\n          console.log(response.success);\n          return response.success;\n        });\n      }\n\n      event.preventDefault();\n    };\n\n    this.state = {\n      formIsValid: false,\n      formControls: {\n        phone: {\n          value: '',\n          placeholder: 'Phone number',\n          valid: \"false\",\n          validationRules: {\n            maxLength: 10,\n            isRequired: true\n          },\n          touched: \"false\"\n        },\n        code: {\n          value: '',\n          placeholder: 'Access Code',\n          valid: \"false\",\n          validationRules: {\n            isRequired: false,\n            maxLength: 6\n          },\n          touched: \"false\"\n        }\n      }\n    };\n  }\n\n  // code to check express connection\n  callAPI() {\n    fetch(\"http://localhost:9000/testAPI\").then(res => res.text()).then(res => this.setState({\n      apiResponse: res\n    }));\n  }\n\n  componentWereMount() {\n    this.callAPI();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \" Skipli Coding Challenge - Tung \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"App-intro\",\n          children: [\";\", this.state.apiResponse]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Enter the Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PhoneNumber, {\n            name: \"phone\",\n            placeholder: this.state.formControls.phone.placeholder,\n            value: this.state.formControls.phone.value,\n            onChange: this.changeHandler // touched={this.state.formControls.phone.touched}\n            // valid={this.state.formControls.phone.valid}\n\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Enter the Code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(AccessCode, {\n            name: \"code\",\n            placeholder: this.state.formControls.code.placeholder,\n            value: this.state.formControls.code.value,\n            onChange: this.changeHandler // touched={this.state.formControls.code.touched}\n            // valid={this.state.formControls.code.valid}\n\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.formSubmitHandler,\n            disabled: !this.state.formIsValid,\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/tdnguyen21/my-app/src/App.js"],"names":["React","Component","validate","PhoneNumber","AccessCode","App","constructor","changeHandler","event","name","target","value","updatedControls","state","formControls","updatedFormElement","touched","valid","validationRules","formIsValid","inputIdentifier","setState","formSubmitHandler","formData","formElementId","console","dir","onChange","e","handleSubmit","code","data","phone","fetch","method","headers","body","JSON","stringify","then","response","log","success","preventDefault","placeholder","maxLength","isRequired","callAPI","res","text","apiResponse","componentWereMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport './index.css';\n\nimport validate from './validate';\nimport PhoneNumber from './PhoneNumber';\nimport AccessCode from './AccessCode';\n\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      formIsValid: false,\n      formControls: {\n        \n        phone: {\n          value: '',\n          placeholder: 'Phone number',\n          valid: \"false\",\n          validationRules: {\n            maxLength: 10,\n            isRequired: true\n          },\n          touched: \"false\"\n        },\n        code: {\n          value: '',\n          placeholder: 'Access Code',\n          valid: \"false\",\n          validationRules: {\n            isRequired: false,\n            maxLength: 6,\n          },\n          touched: \"false\"\n        },\n\n      },\n    }\n  }\n\n\n  changeHandler = event => {\n    \n      const name = event.target.name;\n      const value = event.target.value;\n\n      const updatedControls = {\n        ...this.state.formControls\n      };\n      const updatedFormElement = {\n        ...updatedControls[name]\n      };\n      updatedFormElement.value = value;\n      updatedFormElement.touched = true;\n      updatedFormElement.valid = validate(value, updatedFormElement.validationRules);\n\n      updatedControls[name] = updatedFormElement;\n\n      let formIsValid = true;\n      for (let inputIdentifier in  updatedControls){\n        formIsValid = updatedControls[inputIdentifier].valid && formIsValid;\n      }\n      this.setState({\n        formControls: updatedControls,\n        formIsValid: formIsValid\n      });\n\n  }\n  \n  \n  formSubmitHandler = () => {\n    const formData = {};\n    for (let formElementId in this.state.formControls) {\n        formData[formElementId] = this.state.formControls[formElementId].value;\n    }\n        console.dir(formData);\n    }\n  \n  // code to check express connection\n  callAPI() {\n    fetch(\"http://localhost:9000/testAPI\")\n        .then(res => res.text())\n        .then(res => this.setState({ apiResponse: res }));\n  }\n\n  componentWereMount() {\n    this.callAPI();\n  }\n\n  onChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n\n  handleSubmit = (event) => {\n    if (this.state.formControls.code.value){\n\n      var data = {phone: this.state.formControls.phone.value,\n        code: this.state.formControls.code.value,};\n\n      fetch('http://localhost:9000/users/ValidateAccessCode/', {\n          method: 'POST',\n          headers: {\n            'Accept': 'application/json, text/plain, */*',\n            'Content-Type': 'application/json'\n          },\n          // We convert the React state to JSON and send it as the POST body\n          body: JSON.stringify(data),\n        }).then(function(response) {\n          console.log(response.success);\n          return response.success;\n        });\n    }\n    else{\n      var data = {\n        phone: this.state.formControls.phone.value,\n      }\n      fetch('http://localhost:9000/users/CreateNewAccessCode/', {\n          method: 'POST',\n          headers: {\n            'Accept': 'application/json, text/plain, */*',\n            'Content-Type': 'application/json'\n          },\n          // We convert the React state to JSON and send it as the POST body\n          body: JSON.stringify({data})\n        }).then(function(response) {\n          console.log(response.success);\n          return response.success;\n        });\n      }\n    event.preventDefault();\n  }\n\n  render() {\n    \n    return (\n      <div className=\"App\">\n          <header>\n            <h1> Skipli Coding Challenge - Tung </h1>\n            <p className=\"App-intro\">;{this.state.apiResponse}</p>\n          </header>\n\n      <div className = \"content\"> \n        <form onSubmit={this.handleSubmit}>\n            <label>Enter the Name</label>\n            <PhoneNumber name=\"phone\" \n                      placeholder={this.state.formControls.phone.placeholder}\n                      value={this.state.formControls.phone.value}\n                      onChange={this.changeHandler}\n                      // touched={this.state.formControls.phone.touched}\n                      // valid={this.state.formControls.phone.valid}\n            />\n            \n            <br/>\n            <label>Enter the Code</label>\n            <AccessCode name=\"code\"\n                    placeholder={this.state.formControls.code.placeholder}\n                    value={this.state.formControls.code.value}\n                    onChange={this.changeHandler}\n                    // touched={this.state.formControls.code.touched}\n                    // valid={this.state.formControls.code.valid}\n            />\n            <br/>\n            <button onClick={this.formSubmitHandler} \n                    disabled={!this.state.formIsValid}\n              > \n                Submit\n            </button>\n            <br/>\n            </form>\n\n      </div>\n    </div>\n    );\n\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}